# BUG-001 — Duplicate email registration returns 500 instead of 409

## Title
[Auth/Register] Duplicate email registration returns 500 Internal Server Error (should be 409 Conflict)

## Component
Auth API — `POST /auth/register`

## Severity
High (breaks registration flow and indicates server-side error)

## Priority
P1

## Environment
- OS: Windows 11
- Client: Postman / automated test
- API Base URL: http://localhost:8000
- Build/Commit: N/A (local run)
- Date: 2026-01-14

## Precondition
A user already exists with email `dup_test@gmail.com` (first registration returns `201`).

## Steps to Reproduce
1. Send `POST /auth/register` with:
```json
{
  "email": "dup_test@gmail.com",
  "password": "Güçlü.Parola1!",
  "confirm_password": "Güçlü.Parola1!"
}
```
2. Send the **same request again** (same email).

## Expected Result
- Response status code is **409 Conflict**
- Response body contains:
  - `error_code = "EMAIL_ALREADY_EXISTS"`
  - `message` explains the email is already registered
- No new user record is created (count for that email remains **1**)

## Actual Result
- Response status code is **500 Internal Server Error**
- Response body does not provide a user-friendly error

## Evidence
### Request (2nd call)
```json
{
  "email": "dup_test@gmail.com",
  "password": "Güçlü.Parola1!",
  "confirm_password": "Güçlü.Parola1!"
}
```

### Response (2nd call)
- Status: `500`
- Body: (paste exact response here)

## Notes / Suspected Cause
Likely unhandled unique constraint violation (duplicate email) causing an exception.
API should catch conflict and return `409 EMAIL_ALREADY_EXISTS`.
